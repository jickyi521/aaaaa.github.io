
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>AutomaticallyAdjustsScrollViewInsets 和 Translucent 属性 - A blog of EasonWoW</title>
  <meta name="author" content="EasonWoW">

  
  <meta name="description" content="最近在调UITabBarVC 里navigationbar吃掉contentview bug，最后主要定位到 automaticallyAdjustsScrollViewInsets 和 translucent属性使用不正确 iOS 7.0 statusbar 20points 和 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jickyi521.github.io/blog/2014/07/02/use-automaticallyadjustsscrollviewinsets">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="A blog of EasonWoW" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.useso.com//ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts 
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">A blog of EasonWoW</a></h1>
  
    <h2>Keep Moving</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jickyi521.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">博客主页</a></li>
  <li><a href="/blog/archives">文章列表</a></li>
  <li><a href="/blog/categories/ios">iOS</a></li>
  <li><a href="/blog/categories/android">Android</a></li>
  <li><a href="/about-me">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">AutomaticallyAdjustsScrollViewInsets 和 Translucent 属性</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-02T22:18:15+08:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>最近在调UITabBarVC 里navigationbar吃掉contentview bug，最后主要定位到 automaticallyAdjustsScrollViewInsets 和 translucent属性使用不正确</p>

<p>iOS 7.0 statusbar 20points 和 navigationbar 44points在默认的情况下是透明的也就是VC的
self.view （0，0）是从 最左上角开始。</p>

<p><img src="/images/0702-01.png"></p>

<p>在默认情况下普通的UIView和UIScrollView添加 红色的view (0,0,64,64) 展现的形式是不一样的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addRedUIView</span><span class="p">{</span>
</span><span class='line'>    <span class="n">UIView</span> <span class="o">*</span><span class="n">redView</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIView</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFrame:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">)];</span>
</span><span class='line'>    <span class="n">redView</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIColor</span> <span class="n">redColor</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">addSubview:</span><span class="n">redView</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>UIVIew</li>
</ul>


<p><img src="/images/0702-02.png"></p>

<ul>
<li>UITableView</li>
</ul>


<p><img src="/images/0702-03.png"></p>

<p>这种情形由 automaticallyAdjustsScrollViewInsets 和 translucent属性所决定</p>

<h2>automaticallyAdjustsScrollViewInsets</h2>

<p><code>Specifies whether or not the view controller should automatically adjust its scroll view insets.
Default value is YES, which allows the view controller to adjust its scroll view insets in response to the screen areas consumed by the status bar, navigation bar, and toolbar or tab bar. Set to NO if you want to manage scroll view inset adjustments yourself, such as when there is more than one scroll view in the view hierarchy.</code></p>

<p>这个参数是7.0 出来，主要是为带有 UIScrollView 的控件所服务，且属性默认是YES, 也就是说</p>

<!--more-->


<p>在透明bar情形下，都会给加上个 64points 的insets， insets就是一个padding概念。
[self.tableView setContentInset:UIEdgeInsetsMake(64, 0, 0, 0)];</p>

<ul>
<li>1、navigationbar 透明</li>
</ul>


<p><img src="/images/07-03-01.png"></p>

<p>即 self.navigationController.navigationBar.translucent = YES; 往navigation里面加的view都会往navigationbar里面进去，
对于scrollview的控件可以加个 UIEdgeInsetsMake(64, 0, 0, 0) 的insets，</p>

<p>而对于普通的uiview这种情况推荐最上层套个UIScrollView去处理，也可以将view在IB里面往下移动64去显示，注意点对对齐位置方式。不建议用代码去控制，太繁琐，尤其在考虑多屏幕下横竖屏情况，用autolayout是最合适的方式，还不熟悉呢这块。</p>

<ul>
<li>2、navigationbar 不透明</li>
</ul>


<p>view自动在navigationbar下面显示，不需要处理。</p>

<p> <a href="http://www.doubleencore.com/2013/12/reconciling-ios-6-ios-7-using-interface-builder/">iOS 6 &ndash; 7 的status bar兼容</a>   <br>
 <a href="http://www.doubleencore.com/2013/09/developers-guide-to-the-ios-7-status-bar/">Developer’s Guide to the iOS 7 Status Bar</a></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">EasonWoW</span></span>

      








  


<time datetime="2014-07-02T22:18:15+08:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/ios/'>iOS</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  

  
   		<!-- JiaThis Button BEGIN -->
<div class="jiathis_style_32x32">
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_weixin"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1394801336302625" charset="utf-8"></script>
<!-- JiaThis Button END -->

<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js"></script>
<!-- UY END -->

  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/06/17/ios-tableview-reuse-cell/" title="Previous Post: iOS-tableview-reuse-cell">&laquo; iOS-tableview-reuse-cell</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/01/16/a-new-way-about-mask/" title="Next Post: A New Way to instead of Mask - Tap获得点击区域来判断">A New Way to instead of Mask - Tap获得点击区域来判断 &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/01/16/a-new-way-about-mask/">A New Way to Instead of Mask - Tap获得点击区域来判断</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/02/use-automaticallyadjustsscrollviewinsets/">AutomaticallyAdjustsScrollViewInsets 和 Translucent 属性</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/17/ios-tableview-reuse-cell/">iOS-tableview-reuse-cell</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/14/two-ways-init-customer-view/">两种添加自定义view的方式</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/14/traversal-send-message/">遍历发消息</a>
      </li>
    
  </ul>
</section>




<section>
  <h1>访客地图</h1>
  <script type="text/javascript" src="http://jh.revolvermaps.com/2/1.js?i=7vm1s79rfqr&amp;s=220&amp;m=0&amp;v=false&amp;r=false&amp;b=000000&amp;n=false&amp;c=ff0000" async="async"></script>
  <!--将上文获取的代码添加到这-->
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo">
<p id = "back-top">
      <a href="#top"><span></span>Back to Top</a>
</p> 

<style type="text/css">
#back-top {
  position: fixed;
  bottom: 50px;
  right: 100px;
}

#back-top a {
  width: 80px;
  display: block;
  text-align: center;
  font: 11px/100% Arial, Helvetica, sans-serif;
  text-transform: uppercase;
  text-decoration: none;
  color: #bbb;

  /* transition */
  -webkit-transition: 1s;
  -moz-transition: 1s;
  transition: 1s;
}
#back-top a:hover {
  color: #000;
}

/* arrow icon (span tag) */
#back-top span {
  width: 80px;
  height: 80px;
  display: block;
  margin-bottom: 7px;
  background: #ddd url(../../images/top.png) no-repeat center center;

  /* rounded corners */
  -webkit-border-radius: 15px;
  -moz-border-radius: 15px;
  border-radius: 15px;

  /* transition */
  -webkit-transition: 1s;
  -moz-transition: 1s;
  transition: 1s;
}
/*
#back-top a:hover span {
  background-color: #888;
}
*/
</style>
<script type="text/javascript" src="http://ajax.useso.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){

  // hide #back-top first
  $("#back-top").hide();

  // fade in #back-top
  $(function () {
      $(window).scroll(function () {
          if ($(this).scrollTop() > 100) {
              $('#back-top').fadeIn();
          } else {
              $('#back-top').fadeOut();
          }
      });

      // scroll body to 0px on click
      $('#back-top a').click(function () {
          $('body,html').animate({
              scrollTop: 0
          }, 800);
          return false;
      });
  });

});
</script>

<p>
   &copy; 2015 - EasonWoW -
   <span class="credit">基于 <a href="http://octopress.org" target="_blank">Octopress</a></span>
   <span class="credit">, 感谢 <a href="http://gitcafe.com/signup?invited_by=tangqiaoboy" target="_blank">GitCafe</a> 为本站提供存储空间</span>
  </p>


</footer>
  











</body>
</html>
