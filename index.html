
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A blog of EasonWoW</title>
  <meta name="author" content="EasonWoW">

  
  <meta name="description" content="1、多列的tableview，最简单的是一个GridView
2、标准的CollectionView包括cell、supplementary view和decoration view三部分
3、实现一个UICollectionView和实现一个UITableView基本没有什么大区别， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jickyi521.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  
  <link href="/atom.xml" rel="alternate" title="A blog of EasonWoW" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.useso.com//ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts 
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">A blog of EasonWoW</a></h1>
  
    <h2>Focus~ Moving On...</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jickyi521.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">博客主页</a></li>
  <li><a href="/blog/archives">文章列表</a></li>
  <li><a href="/blog/categories/ios">iOS</a></li>
  <li><a href="/blog/categories/android">Android</a></li>
  <li><a href="/about-me">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/08/collectionview-tips/">CollectionView Tips</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-04-08T10:26:25+08:00" pubdate data-updated="true">Apr 8<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><p>1、多列的tableview，最简单的是一个GridView</p></li>
<li><p>2、标准的CollectionView包括cell、supplementary view和decoration view三部分</p></li>
<li><p>3、实现一个UICollectionView和实现一个UITableView基本没有什么大区别，它们都同样是datasource和delegate设计模式的：datasource为view提供数据源，告诉view要显示些什么东西以及如何显示它们，delegate提供一些样式的小细节以及用户交互的相应</p></li>
<li><p>4、一个UICollectionView的实现包括两个必要部分：UICollectionViewDataSource和UICollectionViewLayout，和一个交互部分：UICollectionViewDelegate</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/03/autolayout-learning/">Autolayout_Learning 自适应布局整理</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-02-03T11:34:16+08:00" pubdate data-updated="true">Feb 3<span>rd</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Autolayout 知识点整理</h2>

<p>Autolayout是iOS6中推出的一个新的自适应布局策略，在iPhone6推出之前因为iPhone上适配问题相对简单(3.5、4)，在加上学这个新东东时间成本很大，而XIB的Autoresizing基本都可以搞定简单布局。 所以其重要性一直被忽视&hellip;</p>

<p>自苹果推出iPhone6后，尺寸又多出俩(4.7、5.5)，传统的Fram、Autoresizing以及很难去Handle屏幕尺寸多样话带来的适配问题，Autolayout舍我其谁。</p>

<p>Autolayout主要解决以下两个问题：</p>

<ul>
<li>1、屏幕适配问题</li>
<li>2、横竖屏问题</li>
</ul>


<p>它的用法主要以下几个步骤：</p>

<ul>
<li>1、将view添加至superView中</li>
<li>2、禁用Autoresizing</li>
<li>3、设置NSLayoutConstraint</li>
<li>4、更新NSLayoutConstraint</li>
</ul>


<h2>创建NSLayoutConstraint</h2>

<p>*1、VFL</p>

<h4>API</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="p">)</span><span class="nf">constraintsWithVisualFormat:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">format</span> <span class="nf">options:</span><span class="p">(</span><span class="n">NSLayoutFormatOptions</span><span class="p">)</span><span class="nv">opts</span> <span class="nf">metrics:</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">metrics</span> <span class="nf">views:</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">views</span>
</span></code></pre></td></tr></table></div></figure>


<h4>实例</h4>

<p>*2、数学表达式</p>

<h4>API</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">constraintWithItem:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">view1</span> <span class="nf">attribute:</span><span class="p">(</span><span class="n">NSLayoutAttribute</span><span class="p">)</span><span class="nv">attr1</span> <span class="nf">relatedBy:</span><span class="p">(</span><span class="n">NSLayoutRelation</span><span class="p">)</span><span class="nv">relation</span> <span class="nf">toItem:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">view2</span> <span class="nf">attribute:</span><span class="p">(</span><span class="n">NSLayoutAttribute</span><span class="p">)</span><span class="nv">attr2</span> <span class="nf">multiplier:</span><span class="p">(</span><span class="n">CGFloat</span><span class="p">)</span><span class="nv">multiplier</span> <span class="nf">constant:</span><span class="p">(</span><span class="n">CGFloat</span><span class="p">)</span><span class="nv">c</span>
</span></code></pre></td></tr></table></div></figure>


<h4>实例</h4>

<p>constraintsWithVisualFormat : VFL
H 横向布局<br/>
V 垂直布局</p>

<p>“|”代表布局件的边界</p>

<ul>
<li><p>lable宽度等于lable设置text的值 [NSLayoutConstraint constraintsWithVisualFormat:@&ldquo;H:|[lable]&rdquo; options:0 metrics:nil views:binds]</p></li>
<li><p>lable宽度等于屏幕的宽度 [NSLayoutConstraint constraintsWithVisualFormat:@&ldquo;H:|[lable]|&rdquo; options:0 metrics:nil views:binds]</p></li>
<li><p>lable宽度等于指定的宽度 [NSLayoutConstraint constraintsWithVisualFormat:@&ldquo;H:|[lable]&rdquo; options:0 metrics:nil views:binds]</p></li>
<li><p>使lable1垂直居中于view [NSLayoutConstraint constraintWithItem:lable1 attribute:NSLayoutAttributeCenterY relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeCenterY multiplier:1.f constant:0.f]</p></li>
<li><p>让高度为10的separtorView垂直居中于view</p></li>
</ul>


<p> [self addConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@&ldquo;V:[separtorView(10)]&rdquo; options:0 metrics:nil views:bindings]];
[self addConstraint:[NSLayoutConstraint constraintWithItem:view attribute:NSLayoutAttributeCenterY relatedBy:NSLayoutRelationEqual toItem:self attribute:NSLayoutAttributeCenterY multiplier:1.f constant:0.f]];</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/27/git-command-gitflow/">Git_command_gitflow</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-27T15:51:21+08:00" pubdate data-updated="true">Jan 27<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Git rebase:</p>

<p>这个命令主要是做分支之间的合并操作，与merge不一样的地方是它可以保持合并分支提交记录的 线性，在提交历史的视图保持整洁干净。 (It can take advantage of rebasing is that it can be used to make a nice linear sequence of commits, the commit log/history of the respository will be a lot cleaner if only rebasing is allowed)</p>

<p><img src="/images/0127_01.png"></p>

<p>&ndash;> git rebase master</p>

<p>  <img src="/images/0127_02.png"></p>

<h2>git是reset使用</h2>

<p>reset的意思是重置修改恢复某个版本的快照</p>

<p>git reset &mdash;hard HEAD~1  如果本地有改动就清除然后恢复到上一次提交记录快照, 这之间的commit改动文件也被清除
git reset &mdash;soft HEAD~1  如果本地有改动就清除然后恢复到上一次提交记录快照, 这之间的commit改动文件在stash中</p>

<p>查看所有的提交历史，包括历史数上及之外的记录
git reflog
git reset HEAD</p>

<p>比如要抹掉上个版本的commit记录，重新将本次的提交与上次的修改进行合并提交 &ndash;> git reset &mdash;soft HEAD~1</p>

<h2>git remote prune origin</h2>

<p>  @TODO</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/23/layoutsubviews-not-called-ios-8-dot-0-2/">LayoutSubViews_Not_Called_iOS_8.0.2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-23T11:00:49+08:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>最近在做一个非常简单的需求，就是在一个lable里面显示百分比。
实现的方式是在lable里面加了两个layers，这样后续如果要加动画也可方便扩展。</p>

<p><img src="/images/0123_01.png"></p>

<p>实现代码:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">updateViewWithLeftColor:</span><span class="p">(</span><span class="n">UIColor</span> <span class="o">*</span><span class="p">)</span><span class="nv">leftColor</span> <span class="nf">andRightColor:</span><span class="p">(</span><span class="n">UIColor</span> <span class="o">*</span><span class="p">)</span><span class="nv">rightColor</span> <span class="nf">andProgress:</span><span class="p">(</span><span class="n">CGFloat</span><span class="p">)</span><span class="nv">progress</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">_leftView</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">_rightView</span><span class="p">){</span>
</span><span class='line'>        <span class="n">_leftView</span> <span class="o">=</span> <span class="p">[</span><span class="n">CALayer</span> <span class="n">layer</span><span class="p">];</span>
</span><span class='line'>        <span class="n">_rightView</span> <span class="o">=</span> <span class="p">[</span><span class="n">CALayer</span> <span class="n">layer</span><span class="p">];</span>
</span><span class='line'>        <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">layer</span> <span class="nl">addSublayer:</span><span class="n">_leftView</span><span class="p">];</span>
</span><span class='line'>        <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">layer</span> <span class="nl">addSublayer:</span><span class="n">_rightView</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">_leftView</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="n">leftColor</span><span class="p">.</span><span class="n">CGColor</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_rightView</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="n">rightColor</span><span class="p">.</span><span class="n">CGColor</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_leftPercent</span> <span class="o">=</span> <span class="n">progress</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="n">setNeedsLayout</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">layoutSubviews</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">super</span> <span class="n">layoutSubviews</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">CGFloat</span> <span class="n">width</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">;</span>
</span><span class='line'>    <span class="n">CGFloat</span> <span class="n">height</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">;</span>
</span><span class='line'>    <span class="n">CGFloat</span> <span class="n">leftWidth</span> <span class="o">=</span> <span class="n">fabs</span><span class="p">(</span><span class="n">width</span> <span class="o">*</span> <span class="n">_leftPercent</span><span class="o">/</span><span class="mi">100</span><span class="p">);</span>
</span><span class='line'>    <span class="n">_leftView</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">leftWidth</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
</span><span class='line'>    <span class="n">_rightView</span> <span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="n">leftWidth</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fabs</span><span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="n">leftWidth</span><span class="p">),</span> <span class="n">height</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>测试发现在8.0.2上面，显示条没有正确绘制。调试发现在此版本
[self setNeedsLayout] 之后并没有调用 layoutSubviews去绘制进度。在7.1和8.1是没有问题，stackoverflow上面找到可能是苹果 8.0 &ndash; 8.1间版本的bug。</p>

<p><img src="/images/0123_02.png"></p>

<p>原因是大概清楚了，解决起来也很简单，直接不用layoutSubviews.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">updateViewWithLeftColor:</span><span class="p">(</span><span class="n">UIColor</span> <span class="o">*</span><span class="p">)</span><span class="nv">leftColor</span> <span class="nf">andRightColor:</span><span class="p">(</span><span class="n">UIColor</span> <span class="o">*</span><span class="p">)</span><span class="nv">rightColor</span> <span class="nf">andProgress:</span><span class="p">(</span><span class="n">CGFloat</span><span class="p">)</span><span class="nv">progress</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">_leftView</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">_rightView</span><span class="p">){</span>
</span><span class='line'>        <span class="n">_leftView</span> <span class="o">=</span> <span class="p">[</span><span class="n">CALayer</span> <span class="n">layer</span><span class="p">];</span>
</span><span class='line'>        <span class="n">_rightView</span> <span class="o">=</span> <span class="p">[</span><span class="n">CALayer</span> <span class="n">layer</span><span class="p">];</span>
</span><span class='line'>        <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">layer</span> <span class="nl">addSublayer:</span><span class="n">_leftView</span><span class="p">];</span>
</span><span class='line'>        <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">layer</span> <span class="nl">addSublayer:</span><span class="n">_rightView</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">_leftView</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="n">leftColor</span><span class="p">.</span><span class="n">CGColor</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_rightView</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="n">rightColor</span><span class="p">.</span><span class="n">CGColor</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_leftPercent</span> <span class="o">=</span> <span class="n">progress</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">CGFloat</span> <span class="n">width</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">;</span>
</span><span class='line'>    <span class="n">CGFloat</span> <span class="n">height</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">;</span>
</span><span class='line'>    <span class="n">CGFloat</span> <span class="n">leftWidth</span> <span class="o">=</span> <span class="n">fabs</span><span class="p">(</span><span class="n">width</span> <span class="o">*</span> <span class="n">_leftPercent</span><span class="o">/</span><span class="mi">100</span><span class="p">);</span>
</span><span class='line'>    <span class="n">_leftView</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">leftWidth</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
</span><span class='line'>    <span class="n">_rightView</span> <span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="n">leftWidth</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fabs</span><span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="n">leftWidth</span><span class="p">),</span> <span class="n">height</span><span class="p">);</span>
</span><span class='line'>    <span class="c1">//[self setNeedsLayout] 8.0.2  不会调 layoutSubviews TODO</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>那么问题来了，什么时候用 layoutSubviews???</p>

<p>TODO</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/01/23/layoutsubviews-not-called-ios-8-dot-0-2/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/20/several-concept-about-px-pt-dot-dot-dot/">Several Concepts About Px Pt Dp&#8230; 关于屏幕适配的几个单位的概念</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-20T14:30:22+08:00" pubdate data-updated="true">Jan 20<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/0120_01.png"></p>

<p>最近在做 适配 的问题，当看到上面这张图后，顿时对这几个概念还有之前Android的dp、sp有些失措。</p>

<p>于是先理了下目前所有iPhone设备的参数情况:</p>

<table>
<thead>
<tr>
<th align="center">   Unit  </th>
<th align="center">  iPhone 3G/S  </th>
<th align="center"> iPhone 4/4S  </th>
<th align="center"> iPhone 5/5S/5C  </th>
<th align="center">     iPhone 6  </th>
<th align="center">   iPhone 6+  </th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">  Screen Size  </td>
<td align="center">      3.5&#8217;     </td>
<td align="center">       4&#8217;     </td>
<td align="center">        4.7&#8217;     </td>
<td align="center">       4.7&#8217;    </td>
<td align="center">       5.5&#8217;   </td>
</tr>
<tr>
<td align="center">  Physic Pixel </td>
<td align="center">    320*480    </td>
<td align="center">    640*960   </td>
<td align="center">     640*1136    </td>
<td align="center">     750*1334  </td>
<td align="center">    1080*1920 </td>
</tr>
<tr>
<td align="center">  Logic Pixel  </td>
<td align="center">    320*480    </td>
<td align="center">    320*480   </td>
<td align="center">      320*568    </td>
<td align="center">     375*667   </td>
<td align="center">     414*736  </td>
</tr>
<tr>
<td align="center">  Scale        </td>
<td align="center">      @1x      </td>
<td align="center">      @2x     </td>
<td align="center">        @2x      </td>
<td align="center">       @2x     </td>
<td align="center">       @3x    </td>
</tr>
<tr>
<td align="center">  PPI          </td>
<td align="center">      163      </td>
<td align="center">      326     </td>
<td align="center">        326      </td>
<td align="center">       326     </td>
<td align="center">       401    </td>
</tr>
<tr>
<td align="center">  DPI          </td>
<td align="center">      163      </td>
<td align="center">      163     </td>
<td align="center">        163      </td>
<td align="center">       163     </td>
<td align="center">       154    </td>
</tr>
</tbody>
</table>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/01/20/several-concept-about-px-pt-dot-dot-dot/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/16/a-new-way-about-mask/">A New Way to Instead of Mask - Tap获得点击区域来判断</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-16T10:37:56+08:00" pubdate data-updated="true">Jan 16<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>之前在做UI的事件处理时，往往会有些新(蛋)颖(疼)的需求，比如要点击某块区域才能触发事件。
这时候首先想到的方法是在这块区域上面加块蒙版(UIButton)，把背景设为透明，自认为是so easy得解决了。</p>

<p>这俩天看到一种利用点击事件比较坐标讨巧的方式。有俩种方式:</p>

<ul>
<li>1、往View上加点击事件</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'> <span class="n">self</span><span class="p">.</span><span class="n">tapGestureRecognizer</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UITapGestureRecognizer</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithTarget:</span><span class="n">self</span> <span class="nl">action:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">touchView:</span><span class="p">)];</span>
</span><span class='line'> <span class="p">[</span><span class="n">self</span> <span class="nl">addGestureRecognizer:</span><span class="n">self</span><span class="p">.</span><span class="n">tapGestureRecognizer</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">touchView:</span><span class="p">(</span><span class="n">UITapGestureRecognizer</span> <span class="o">*</span><span class="p">)</span><span class="nv">tap</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">CGPoint</span> <span class="n">touchPoint</span> <span class="o">=</span> <span class="p">[</span><span class="n">tap</span> <span class="nl">locationInView:</span><span class="n">self</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">//拿到点击区域的坐标后进行比较 处理相应业务逻辑</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">dealloc</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="nl">removeGestureRecognizer:</span><span class="n">self</span><span class="p">.]</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>2、 直接重写view 的touchesEnded:withEvent 方法, 拿到事件的target view获得坐标</li>
</ul>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/01/16/a-new-way-about-mask/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/02/use-automaticallyadjustsscrollviewinsets/">AutomaticallyAdjustsScrollViewInsets 和 Translucent 属性</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-02T22:18:15+08:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>最近在调UITabBarVC 里navigationbar吃掉contentview bug，最后主要定位到 automaticallyAdjustsScrollViewInsets 和 translucent属性使用不正确</p>

<p>iOS 7.0 statusbar 20points 和 navigationbar 44points在默认的情况下是透明的也就是VC的
self.view （0，0）是从 最左上角开始。</p>

<p><img src="/images/0702-01.png"></p>

<p>在默认情况下普通的UIView和UIScrollView添加 红色的view (0,0,64,64) 展现的形式是不一样的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addRedUIView</span><span class="p">{</span>
</span><span class='line'>    <span class="n">UIView</span> <span class="o">*</span><span class="n">redView</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIView</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFrame:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">)];</span>
</span><span class='line'>    <span class="n">redView</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIColor</span> <span class="n">redColor</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">addSubview:</span><span class="n">redView</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>UIVIew</li>
</ul>


<p><img src="/images/0702-02.png"></p>

<ul>
<li>UITableView</li>
</ul>


<p><img src="/images/0702-03.png"></p>

<p>这种情形由 automaticallyAdjustsScrollViewInsets 和 translucent属性所决定</p>

<h2>automaticallyAdjustsScrollViewInsets</h2>

<p><code>Specifies whether or not the view controller should automatically adjust its scroll view insets.
Default value is YES, which allows the view controller to adjust its scroll view insets in response to the screen areas consumed by the status bar, navigation bar, and toolbar or tab bar. Set to NO if you want to manage scroll view inset adjustments yourself, such as when there is more than one scroll view in the view hierarchy.</code></p>

<p>这个参数是7.0 出来，主要是为带有 UIScrollView 的控件所服务，且属性默认是YES, 也就是说</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/07/02/use-automaticallyadjustsscrollviewinsets/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/17/ios-tableview-reuse-cell/">iOS-tableview-reuse-cell</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-17T09:45:31+08:00" pubdate data-updated="true">Jun 17<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>第一次需要实例化一屏所能展 Contentview N个的实例入queue，对下次屏幕展示的view分别都重用这N个。</p>

<p>static NSString <em>identifier = @&ldquo;cell&rdquo;;
UICustomerCell </em>cell = [tableView dequeueReusableCellWithIdentifier:identifier];</p>

<p>在 UICustomerCell 需要托人 UITableVIewCell 的控件 设置 identifier 为 &ldquo;cell&rdquo;</p>

<p>这样重用有重用，否则只是拖入的 UIView， 重用机制失效，每次还都会创建新的实例cell</p>

<p>Android里的重用 viewHolder</p>

<p> @Override</p>

<pre><code>public View getView(int position, View convertView, ViewGroup parent) {
    ViewHolder viewHolder = null;
    if (convertView == null) {
        convertView = View.inflate(mContext, R.layout.test, null);
        viewHolder = new ViewHolder();
        viewHolder.imageView = (ImageView) convertView.findViewById(R.id.item_image);
        viewHolder.titleTextView = (TextView) convertView.findViewById(R.id.item_text);
        convertView.setTag(viewHolder);
    } else {
        viewHolder = (ViewHolder) convertView.getTag();
    }
    return convertView;
}


class ViewHolder {
    ImageView imageView;
    TextView titleTextView;
}
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/14/two-ways-init-customer-view/">两种添加自定义view的方式</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-14T15:17:13+08:00" pubdate data-updated="true">Jun 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>这种使用场景最普遍了吧，稍不留神就碰到没有将自定的custom的view加成功的trick</p>

<p><code>需要注意的两点</code></p>

<ul>
<li>1、对于ViewController 在xib文件里 File&rsquo;s Owner 右侧 inspector 中的custom 对于ViewController,不然识别不了里面的outlet和IBAction</li>
</ul>


<p><img src="/images/iOS_fileowner.png"></p>

<ul>
<li>2、对于普通的 custom UIView 需要将最顶层的UIView 的custom class填对应即可:</li>
</ul>


<p><img src="/images/iOS_customclass.png"></p>

<p>两种添加方式，上代码吧&hellip;</p>

<p><code>第一种:</code></p>

<p> 常见的方式在需要加入custom view处进行初始化
 需要注意的是，这种方式去初始化CustomView的时候是不会调 initFrame 构造方法，所以外面需要主动给frame</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="n">CustomView</span> <span class="o">*</span><span class="n">customView</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">NSBundle</span> <span class="n">mainBundle</span><span class="p">]</span> <span class="nl">loadNibNamed:</span><span class="s">@&quot;CustomView&quot;</span> <span class="nl">owner:</span><span class="n">self</span> <span class="nl">options:</span><span class="nb">nil</span><span class="p">]</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p> <code>第二种:</code></p>

<p>常见的方式在需要加入custom view处进行初始化, 然后在 CustomView 里面的  initWithFrame 去 load</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="n">CustomView</span> <span class="o">*</span><span class="n">customView</span> <span class="o">=</span> <span class="p">[</span><span class="n">CustomView</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">initWithFrame</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">initWithFrame:</span><span class="p">(</span><span class="n">CGRect</span><span class="p">)</span><span class="nv">frame</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">self</span> <span class="o">=</span> <span class="p">[</span><span class="n">super</span> <span class="nl">initWithFrame:</span><span class="n">frame</span><span class="p">];</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">self</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">NSBundle</span> <span class="n">mainBundle</span><span class="p">]</span> <span class="nl">loadNibNamed:</span><span class="s">@&quot;CustomView&quot;</span> <span class="nl">owner:</span><span class="n">self</span> <span class="nl">options:</span><span class="nb">nil</span><span class="p">]</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>推荐用第二种方式，封装性更好，也可以避免没有set frame的坑。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/14/traversal-send-message/">遍历发消息</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-14T13:07:07+08:00" pubdate data-updated="true">Jun 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>应用场景</h2>

<p>对一个有许多 subview 的 ViewContainer 要加入新view之前需要先移干净 之前的view，以防止新view被污染
以前的做法</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="k">for</span><span class="p">(</span><span class="n">UIView</span> <span class="o">*</span><span class="n">subview</span> <span class="k">in</span> <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">subviews</span><span class="p">){</span>
</span><span class='line'>        <span class="p">[</span><span class="n">subview</span> <span class="n">removeFromSuperview</span><span class="p">];</span>
</span><span class='line'> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>发现一种新的写法</code></p>

<p>这种方式对遍历封装好了，简洁且高效
//Sends to each object in the array the message identified by a given selector, starting with the first object and continuing through the array to the last object.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'>  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">subviews</span> <span class="nl">makeObjectsPerformSelector:</span><span class="k">@selector</span><span class="p">(</span><span class="n">removeFromSuperview</span><span class="p">)];</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/04/08/collectionview-tips/">CollectionView Tips</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/02/03/autolayout-learning/">Autolayout_Learning 自适应布局整理</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/27/git-command-gitflow/">Git_command_gitflow</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/23/layoutsubviews-not-called-ios-8-dot-0-2/">LayoutSubViews_Not_Called_iOS_8.0.2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/20/several-concept-about-px-pt-dot-dot-dot/">Several Concepts About Px Pt Dp&#8230; 关于屏幕适配的几个单位的概念</a>
      </li>
    
  </ul>
</section>




<section>
  <h1>访客地图</h1>
  <script type="text/javascript" src="http://jh.revolvermaps.com/2/1.js?i=7vm1s79rfqr&amp;s=220&amp;m=0&amp;v=false&amp;r=false&amp;b=000000&amp;n=false&amp;c=ff0000" async="async"></script>
  <!--将上文获取的代码添加到这-->
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo">
<p id = "back-top">
      <a href="#top"><span></span>Back to Top</a>
</p> 

<style type="text/css">
#back-top {
  position: fixed;
  bottom: 50px;
  right: 100px;
}

#back-top a {
  width: 80px;
  display: block;
  text-align: center;
  font: 11px/100% Arial, Helvetica, sans-serif;
  text-transform: uppercase;
  text-decoration: none;
  color: #bbb;

  /* transition */
  -webkit-transition: 1s;
  -moz-transition: 1s;
  transition: 1s;
}
#back-top a:hover {
  color: #000;
}

/* arrow icon (span tag) */
#back-top span {
  width: 80px;
  height: 80px;
  display: block;
  margin-bottom: 7px;
  background: #ddd url(../../images/top.png) no-repeat center center;

  /* rounded corners */
  -webkit-border-radius: 15px;
  -moz-border-radius: 15px;
  border-radius: 15px;

  /* transition */
  -webkit-transition: 1s;
  -moz-transition: 1s;
  transition: 1s;
}
/*
#back-top a:hover span {
  background-color: #888;
}
*/
</style>
<script type="text/javascript" src="http://ajax.useso.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){

  // hide #back-top first
  $("#back-top").hide();

  // fade in #back-top
  $(function () {
      $(window).scroll(function () {
          if ($(this).scrollTop() > 100) {
              $('#back-top').fadeIn();
          } else {
              $('#back-top').fadeOut();
          }
      });

      // scroll body to 0px on click
      $('#back-top a').click(function () {
          $('body,html').animate({
              scrollTop: 0
          }, 800);
          return false;
      });
  });

});
</script>

<p>
   &copy; 2015 - EasonWoW -
   <span class="credit">基于 <a href="http://octopress.org" target="_blank">Octopress</a></span>
   <span class="credit">, 感谢 <a href="http://gitcafe.com/signup?invited_by=tangqiaoboy" target="_blank">GitCafe</a> 为本站提供存储空间</span>
  </p>


</footer>
  











</body>
</html>
